import{S as Je,i as je,s as ze,a as U,k as h,q as L,e as Ve,J as Qe,h as s,c as q,l as p,m as b,r as H,n as E,b as X,G as l,K as ee,L as O,M as le,H as Xe,N as We,p as Me,u as ne,O as Oe,w as ve}from"../chunks/index.ade212d7.js";function Ue(e,r,n){const c=e.slice();return c[26]=r[n].principal,c[27]=r[n].interest,c[28]=r[n].C,c[30]=n,c}function qe(e,r,n){const c=e.slice();return c[26]=r[n].principal,c[27]=r[n].interest,c[28]=r[n].C,c[30]=n,c}function Se(e){let r,n,c,m,D=te(e[9])+"",v,T,a,o,u,y,i,A,g,_,d,P,N,S,K,C,t,R,W,G,J,Z,se,k,M,j,I,w,re,oe,z,ie,be,ue,Ee,Te,fe,ye,ge,he,pe=e[8],Y=[];for(let B=0;B<pe.length;B+=1)Y[B]=Ke(qe(e,pe,B));let ce=e[8],V=[];for(let B=0;B<ce.length;B+=1)V[B]=Fe(Ue(e,ce,B));return{c(){r=h("div"),n=h("div"),c=h("p"),m=L("constantRepayment: "),v=L(D),T=U(),a=h("table"),o=h("thead"),u=h("tr"),y=h("th"),i=L("#"),A=U(),g=h("th"),_=L("principal"),d=U(),P=h("th"),N=L("interest"),S=U(),K=h("th"),C=L("balanceAfter"),t=U(),R=h("tbody");for(let B=0;B<Y.length;B+=1)Y[B].c();W=U(),G=h("div"),J=h("p"),Z=L("constantRepayment: "),se=L(e[9]),k=U(),M=h("table"),j=h("thead"),I=h("tr"),w=h("th"),re=L("#"),oe=U(),z=h("th"),ie=L("principal"),be=U(),ue=h("th"),Ee=L("interest"),Te=U(),fe=h("th"),ye=L("balanceAfter"),ge=U(),he=h("tbody");for(let B=0;B<V.length;B+=1)V[B].c();this.h()},l(B){r=p(B,"DIV",{style:!0});var F=b(r);n=p(F,"DIV",{});var f=b(n);c=p(f,"P",{});var Q=b(c);m=H(Q,"constantRepayment: "),v=H(Q,D),Q.forEach(s),T=q(f),a=p(f,"TABLE",{class:!0});var _e=b(a);o=p(_e,"THEAD",{});var Be=b(o);u=p(Be,"TR",{});var $=b(u);y=p($,"TH",{class:!0});var De=b(y);i=H(De,"#"),De.forEach(s),A=q($),g=p($,"TH",{class:!0});var Re=b(g);_=H(Re,"principal"),Re.forEach(s),d=q($),P=p($,"TH",{class:!0});var we=b(P);N=H(we,"interest"),we.forEach(s),S=q($),K=p($,"TH",{class:!0});var Ae=b(K);C=H(Ae,"balanceAfter"),Ae.forEach(s),$.forEach(s),Be.forEach(s),t=q(_e),R=p(_e,"TBODY",{});var Le=b(R);for(let ae=0;ae<Y.length;ae+=1)Y[ae].l(Le);Le.forEach(s),_e.forEach(s),f.forEach(s),W=q(F),G=p(F,"DIV",{});var de=b(G);J=p(de,"P",{});var ke=b(J);Z=H(ke,"constantRepayment: "),se=H(ke,e[9]),ke.forEach(s),k=q(de),M=p(de,"TABLE",{class:!0});var me=b(M);j=p(me,"THEAD",{});var He=b(j);I=p(He,"TR",{});var x=b(I);w=p(x,"TH",{class:!0});var Ce=b(w);re=H(Ce,"#"),Ce.forEach(s),oe=q(x),z=p(x,"TH",{class:!0});var Ie=b(z);ie=H(Ie,"principal"),Ie.forEach(s),be=q(x),ue=p(x,"TH",{class:!0});var Pe=b(ue);Ee=H(Pe,"interest"),Pe.forEach(s),Te=q(x),fe=p(x,"TH",{class:!0});var Ne=b(fe);ye=H(Ne,"balanceAfter"),Ne.forEach(s),x.forEach(s),He.forEach(s),ge=q(me),he=p(me,"TBODY",{});var Ye=b(he);for(let ae=0;ae<V.length;ae+=1)V[ae].l(Ye);Ye.forEach(s),me.forEach(s),de.forEach(s),F.forEach(s),this.h()},h(){E(y,"class","svelte-1oe5p6m"),E(g,"class","svelte-1oe5p6m"),E(P,"class","svelte-1oe5p6m"),E(K,"class","svelte-1oe5p6m"),E(a,"class","svelte-1oe5p6m"),E(w,"class","svelte-1oe5p6m"),E(z,"class","svelte-1oe5p6m"),E(ue,"class","svelte-1oe5p6m"),E(fe,"class","svelte-1oe5p6m"),E(M,"class","svelte-1oe5p6m"),Me(r,"display","flex"),Me(r,"gap","15em")},m(B,F){X(B,r,F),l(r,n),l(n,c),l(c,m),l(c,v),l(n,T),l(n,a),l(a,o),l(o,u),l(u,y),l(y,i),l(u,A),l(u,g),l(g,_),l(u,d),l(u,P),l(P,N),l(u,S),l(u,K),l(K,C),l(a,t),l(a,R);for(let f=0;f<Y.length;f+=1)Y[f]&&Y[f].m(R,null);l(r,W),l(r,G),l(G,J),l(J,Z),l(J,se),l(G,k),l(G,M),l(M,j),l(j,I),l(I,w),l(w,re),l(I,oe),l(I,z),l(z,ie),l(I,be),l(I,ue),l(ue,Ee),l(I,Te),l(I,fe),l(fe,ye),l(M,ge),l(M,he);for(let f=0;f<V.length;f+=1)V[f]&&V[f].m(he,null)},p(B,F){if(F[0]&512&&D!==(D=te(B[9])+"")&&ne(v,D),F[0]&256){pe=B[8];let f;for(f=0;f<pe.length;f+=1){const Q=qe(B,pe,f);Y[f]?Y[f].p(Q,F):(Y[f]=Ke(Q),Y[f].c(),Y[f].m(R,null))}for(;f<Y.length;f+=1)Y[f].d(1);Y.length=pe.length}if(F[0]&512&&ne(se,B[9]),F[0]&256){ce=B[8];let f;for(f=0;f<ce.length;f+=1){const Q=Ue(B,ce,f);V[f]?V[f].p(Q,F):(V[f]=Fe(Q),V[f].c(),V[f].m(he,null))}for(;f<V.length;f+=1)V[f].d(1);V.length=ce.length}},d(B){B&&s(r),Oe(Y,B),Oe(V,B)}}}function Ke(e){let r,n,c=e[30]+1+"",m,D,v=te(e[26])+"",T,a,o=te(e[27])+"",u,y,i=te(e[28])+"",A;return{c(){r=h("tr"),n=h("td"),m=L(c),D=h("td"),T=L(v),a=h("td"),u=L(o),y=h("td"),A=L(i),this.h()},l(g){r=p(g,"TR",{});var _=b(r);n=p(_,"TD",{class:!0});var d=b(n);m=H(d,c),d.forEach(s),D=p(_,"TD",{class:!0});var P=b(D);T=H(P,v),P.forEach(s),a=p(_,"TD",{class:!0});var N=b(a);u=H(N,o),N.forEach(s),y=p(_,"TD",{class:!0});var S=b(y);A=H(S,i),S.forEach(s),_.forEach(s),this.h()},h(){E(n,"class","svelte-1oe5p6m"),E(D,"class","svelte-1oe5p6m"),E(a,"class","svelte-1oe5p6m"),E(y,"class","svelte-1oe5p6m")},m(g,_){X(g,r,_),l(r,n),l(n,m),l(r,D),l(D,T),l(r,a),l(a,u),l(r,y),l(y,A)},p(g,_){_[0]&256&&v!==(v=te(g[26])+"")&&ne(T,v),_[0]&256&&o!==(o=te(g[27])+"")&&ne(u,o),_[0]&256&&i!==(i=te(g[28])+"")&&ne(A,i)},d(g){g&&s(r)}}}function Fe(e){let r,n,c,m=e[30]+1+"",D,v,T=e[26]+"",a,o,u=e[27]+"",y,i,A=e[28]+"",g;return{c(){r=h("tr"),n=h("td"),c=L("precise "),D=L(m),v=h("td"),a=L(T),o=h("td"),y=L(u),i=h("td"),g=L(A),this.h()},l(_){r=p(_,"TR",{});var d=b(r);n=p(d,"TD",{class:!0});var P=b(n);c=H(P,"precise "),D=H(P,m),P.forEach(s),v=p(d,"TD",{class:!0});var N=b(v);a=H(N,T),N.forEach(s),o=p(d,"TD",{class:!0});var S=b(o);y=H(S,u),S.forEach(s),i=p(d,"TD",{class:!0});var K=b(i);g=H(K,A),K.forEach(s),d.forEach(s),this.h()},h(){E(n,"class","svelte-1oe5p6m"),E(v,"class","svelte-1oe5p6m"),E(o,"class","svelte-1oe5p6m"),E(i,"class","svelte-1oe5p6m")},m(_,d){X(_,r,d),l(r,n),l(n,c),l(n,D),l(r,v),l(v,a),l(r,o),l(o,y),l(r,i),l(i,g)},p(_,d){d[0]&256&&T!==(T=_[26]+"")&&ne(a,T),d[0]&256&&u!==(u=_[27]+"")&&ne(y,u),d[0]&256&&A!==(A=_[28]+"")&&ne(g,A)},d(_){_&&s(r)}}}function Ze(e){let r,n,c,m,D,v,T,a,o,u,y,i,A,g,_,d,P,N,S,K,C=e[8]&&Se(e);return{c(){r=U(),n=h("label"),c=L("openingBalance"),m=h("input"),D=U(),v=h("label"),T=L("interestRate"),a=h("input"),o=U(),u=h("label"),y=L("repaymentsCount"),i=h("input"),A=U(),g=h("label"),_=L("endingBalance"),d=h("input"),P=U(),C&&C.c(),N=Ve(),this.h()},l(t){Qe("svelte-89ks4b",document.head).forEach(s),r=q(t),n=p(t,"LABEL",{for:!0});var W=b(n);c=H(W,"openingBalance"),W.forEach(s),m=p(t,"INPUT",{type:!0,name:!0,id:!0}),D=q(t),v=p(t,"LABEL",{for:!0});var G=b(v);T=H(G,"interestRate"),G.forEach(s),a=p(t,"INPUT",{type:!0,name:!0,id:!0}),o=q(t),u=p(t,"LABEL",{for:!0});var J=b(u);y=H(J,"repaymentsCount"),J.forEach(s),i=p(t,"INPUT",{type:!0,name:!0,id:!0}),A=q(t),g=p(t,"LABEL",{for:!0});var Z=b(g);_=H(Z,"endingBalance"),Z.forEach(s),d=p(t,"INPUT",{type:!0,name:!0,id:!0}),P=q(t),C&&C.l(t),N=Ve(),this.h()},h(){document.title="svelte-interest-rate-equiv",E(n,"for","openingBalance"),E(m,"type","number"),E(m,"name","openingBalance"),E(m,"id","openingBalance"),E(v,"for","interestRate"),E(a,"type","number"),E(a,"name","interestRate"),E(a,"id","interestRate"),E(u,"for","repaymentsCount"),E(i,"type","number"),E(i,"name","repaymentsCount"),E(i,"id","repaymentsCount"),E(g,"for","endingBalance"),E(d,"type","number"),E(d,"name","endingBalance"),E(d,"id","endingBalance")},m(t,R){X(t,r,R),X(t,n,R),l(n,c),X(t,m,R),e[13](m),ee(m,e[4]),X(t,D,R),X(t,v,R),l(v,T),X(t,a,R),e[16](a),ee(a,e[5]),X(t,o,R),X(t,u,R),l(u,y),X(t,i,R),e[19](i),ee(i,e[6]),X(t,A,R),X(t,g,R),l(g,_),X(t,d,R),e[22](d),ee(d,e[7]),X(t,P,R),C&&C.m(t,R),X(t,N,R),S||(K=[O(m,"keydown",e[11]),O(m,"change",e[10]),O(m,"paste",e[12]),O(m,"input",e[14]),O(a,"keydown",e[11]),O(a,"change",e[10]),O(a,"paste",e[15]),O(a,"input",e[17]),O(i,"keydown",e[11]),O(i,"change",e[10]),O(i,"paste",e[18]),O(i,"input",e[20]),O(d,"keydown",e[11]),O(d,"change",e[10]),O(d,"paste",e[21]),O(d,"input",e[23])],S=!0)},p(t,R){R[0]&16&&le(m.value)!==t[4]&&ee(m,t[4]),R[0]&32&&le(a.value)!==t[5]&&ee(a,t[5]),R[0]&64&&le(i.value)!==t[6]&&ee(i,t[6]),R[0]&128&&le(d.value)!==t[7]&&ee(d,t[7]),t[8]?C?C.p(t,R):(C=Se(t),C.c(),C.m(N.parentNode,N)):C&&(C.d(1),C=null)},i:Xe,o:Xe,d(t){t&&s(r),t&&s(n),t&&s(m),e[13](null),t&&s(D),t&&s(v),t&&s(a),e[16](null),t&&s(o),t&&s(u),t&&s(i),e[19](null),t&&s(A),t&&s(g),t&&s(d),e[22](null),t&&s(P),C&&C.d(t),t&&s(N),S=!1,We(K)}}}function Ge(e,r,n){let c=1/0,m=-1/0,D,v;e:for(;;){const T=e,a=n(e),o=r(e);if(o>0)o<c&&(c=o,D=e);else if(o<0)o>m&&(m=o,v=e);else break e;if(e=e-o/a,D&&v&&Math.abs(T-e)){let u=D,y=v;for(;;){let i=(u+y)/2,A=r(i);if(A>0){if(u===i){e=i;break e}u=i}else if(A<0){if(y===i){e=i;break e}y=i}else{e=i;break e}}}}return e}function te(e){return(Math.round((e+Number.EPSILON)*100)/100).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")}function $e(e,r,n){let c,m,D,v,T,a,o,u,y,i,A,g;function _(k){const M=[];for(const I of[c,m,D,v])I.value===""&&M.push(I);let j;if(M.length===1){if(M[0]===k.target)return;y=M[0],j=y,i=k.target}else{if(M.length!==0||!y)return;y===k.target?j=i:(j=y,i=k.target)}switch(j){case c:n(4,T=u*(a+1)**-o*((a+1)**o-1)/(a*o));break;case m:n(5,a=Ge(.1,function(w){return T*w*o*(1/((w+1)**o-1)+1)-u},function(w){return T*o*(-(o*w*(w+1)**(o-1))/((w+1)**o-1)**2+1/((w+1)**o-1)+1)}));break;case D:n(6,o=Ge(25,function(w){return T*a*w*(1/((a+1)**w-1)+1)-u},function(w){return T*a*(a+1)**w*((a+1)**w-w*Math.log(a+1)-1)/((a+1)**w-1)**2}));break;case v:n(7,u=(T*a/((a+1)**o-1)+a*T)*o);break}setTimeout(()=>{const I=[];let w=T,re=u/o;for(let oe=0;oe<o;oe++){const z=w*a,ie=re-z;w-=ie,I.push({principal:ie,interest:z,C:w})}n(9,g=re),n(8,A=I)},50)}function d(k){const M=k.target.value;setTimeout(()=>{k.target.value!==M&&_(k)},1)}const P=k=>setTimeout(_(k),1);function N(k){ve[k?"unshift":"push"](()=>{c=k,n(0,c)})}function S(){T=le(this.value),n(4,T)}const K=k=>setTimeout(_(k),1);function C(k){ve[k?"unshift":"push"](()=>{m=k,n(1,m)})}function t(){a=le(this.value),n(5,a)}const R=k=>setTimeout(_(k),1);function W(k){ve[k?"unshift":"push"](()=>{D=k,n(2,D)})}function G(){o=le(this.value),n(6,o)}const J=k=>setTimeout(_(k),1);function Z(k){ve[k?"unshift":"push"](()=>{v=k,n(3,v)})}function se(){u=le(this.value),n(7,u)}return[c,m,D,v,T,a,o,u,A,g,_,d,P,N,S,K,C,t,R,W,G,J,Z,se]}class et extends Je{constructor(r){super(),je(this,r,$e,Ze,ze,{},null,[-1,-1])}}export{et as default};
